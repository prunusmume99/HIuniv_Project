# π“ μ „μ²λ¦¬λ λ°μ΄ν„° μ„¤λ…μ„

## π“‹ νμΌ μ •λ³΄
- **μƒμ„±μΌ**: 2025-07-29 (κΈ°μ΅΄), 2025-01-27 (ν•μλ„ μΈν”„λΌ λ°μ΄ν„° μ¶”κ°€)
- **μƒμ„± μ¤ν¬λ¦½νΈ**: `scripts/data_preprocessing.py`, `scripts/preprocess_sewer_data.py`
- **λ°μ΄ν„° μ†μ¤**: `data/raw/` ν΄λ”μ μ›λ³Έ λ°μ΄ν„°

## π― μ „μ²λ¦¬ λ©μ 
μμ—°μ¬ν•΄ μ„ν—λ„, λ…Έν›„μ£Όνƒ ν„ν™©, ν•μλ„ μΈν”„λΌ λ°μ΄ν„°λ¥Ό ν†µν•©ν•μ—¬ μ£Όκ±°μ·¨μ•½μ§€μ λ° ν•μλ„ μΈν”„λΌ μ§€μ κ³„μ‚°μ— ν™μ©ν•  μ μλ” ν•νƒλ΅ κ°€κ³µ

## π“ μ „μ²λ¦¬λ λ°μ΄ν„° νμΌ λ©λ΅

### 1. `processed_data.csv` (κΈ°μ΅΄)
- **μ©λ„**: μ£Όκ±°μ·¨μ•½μ§€μ λ¶„μ„μ©
- **μƒμ„±μΌ**: 2025-07-29
- **ν¬κΈ°**: 948B (19 lines)

### 2. `sewer_infrastructure_processed.csv` (μ‹ κ·)
- **μ©λ„**: ν•μλ„ μΈν”„λΌ μ§€μ λ¶„μ„μ©
- **μƒμ„±μΌ**: 2025-01-27
- **ν¬κΈ°**: 163KB (2400 lines)
- **μƒμ„± μ¤ν¬λ¦½νΈ**: `scripts/preprocess_sewer_data.py`

### 3. `sewer_infrastructure_analysis.csv` (μ‹ κ·)
- **μ©λ„**: ν•μλ„ μΈν”„λΌ λ¶„μ„ κ²°κ³Ό
- **μƒμ„±μΌ**: 2025-01-27
- **ν¬κΈ°**: 270KB (2400 lines)
- **μƒμ„± μ¤ν¬λ¦½νΈ**: `notebooks/02_sewer_infrastructure_analysis.ipynb`

## π“ μ›λ³Έ λ°μ΄ν„°

### 1. μμ—°μ¬ν•΄ μ„ν—λ„ λ°μ΄ν„° (`Natural_Disaster_Risk.csv`)
- **μ¶μ²**: κµ­ν† κµν†µλ¶€ μμ—°μ¬ν•΄ μ„ν—μ§€κµ¬ ν„ν™©
- **κΈ°κ°„**: 2023λ…„
- **λ‚΄μ©**: μ§€μ—­λ³„ μμ—°μ¬ν•΄ μ„ν—μ§€κµ¬ λ“±κΈ‰λ³„ ν„ν™©
- **λ“±κΈ‰ κµ¬λ¶„**:
  - **κ°€λ“±κΈ‰**: μΈλ…ν”Όν•΄ μ„ν— (μµκ³  μ„ν—)
  - **λ‚λ“±κΈ‰**: κ±΄μ¶•λ¬Ό ν”Όν•΄ μ„ν— (μ¤‘κ°„ μ„ν—)
  - **λ‹¤λ“±κΈ‰**: κΈ°λ°μ‹μ„¤ ν”Όν•΄ μ„ν— (λ‚®μ€ μ„ν—)

### 2. λ…Έν›„μ£Όνƒ λΉ„μ¨ λ°μ΄ν„° (`aged_housing_ratio.csv`)
- **μ¶μ²**: ν†µκ³„μ²­ μ£Όνƒλ³΄κΈ‰λ¥  ν†µκ³„
- **κΈ°κ°„**: 2020-2023λ…„ (2023.2 λ¶„κΈ° λ°μ΄ν„° μ‚¬μ©)
- **λ‚΄μ©**: μ§€μ—­λ³„ 30λ…„ μ΄μƒ λ…Έν›„μ£Όνƒ ν„ν™©
- **μ§€ν‘**: λ…Έν›„μ£ΌνƒλΉ„μ¨, λ…Έν›„μ£Όνƒ μ, μ „μ²΄ μ£Όνƒ μ

### 3. ν•μλ„ λ³΄κΈ‰λ¥  λ°μ΄ν„° (`Sewer_Coverage_Rate.csv`) (μ‹ κ·)
- **μ¶μ²**: ν•κµ­ν™κ²½κ³µλ‹¨ ν•μλ„ λ³΄κΈ‰λ¥  ν†µκ³„
- **κΈ°κ°„**: 2023λ…„ κΈ°μ¤€
- **λ‚΄μ©**: μ§€μ—­λ³„ ν•μλ„ μΈν”„λΌ ν„ν™©
- **μ£Όμ” μ§€ν‘**:
  - ν•μλ„ μ„¤μΉμ¨
  - κ³µκ³µν•μμ²λ¦¬κµ¬μ—­ μΈκµ¬λ³΄κΈ‰λ¥ 
  - κ³ λ„μ²λ¦¬μΈκµ¬ λ³΄κΈ‰λ¥ 
  - μ΄μΈκµ¬, μ΄λ©΄μ 

## π”§ μ „μ²λ¦¬ κ³Όμ •

### 1λ‹¨κ³„: λ°μ΄ν„° λ΅λ”©
```python
# μ›λ³Έ λ°μ΄ν„° νμΌ λ΅λ”©
disaster_risk = pd.read_csv("data/raw/Natural_Disaster_Risk.csv")
housing_ratio = pd.read_csv("data/raw/aged_housing_ratio.csv")
sewer_data = pd.read_csv("data/raw/Sewer_Coverage_Rate.csv")  # μ‹ κ·
```

### 2λ‹¨κ³„: μμ—°μ¬ν•΄ μ„ν—λ„ λ°μ΄ν„° μ „μ²λ¦¬
```python
# 1. ν—¤λ” μ •λ¦¬ (μ²« λ²μ§Έ, λ‘ λ²μ§Έ ν–‰μ„ μ»¬λΌλ…μΌλ΅ μ„¤μ •)
# 2. 2023λ…„ λ°μ΄ν„°λ§ μ„ νƒ
# 3. μ«μν• λ°μ΄ν„° λ³€ν™
# 4. μ»¬λΌλ… μ •λ¦¬: region, total_risk, high_risk, medium_risk, low_risk
```

**μ „μ²λ¦¬ μ „**:
```
"ν–‰μ •κµ¬μ—­λ³„(1)",2023,2023,2023,2023
"ν–‰μ •κµ¬μ—­λ³„(1)",ν•©κ³„,κ°€ λ“±κΈ‰,λ‚ λ“±κΈ‰,λ‹¤ λ“±κΈ‰
"μ„μΈνΉλ³„μ‹",16,10,4,2
```

**μ „μ²λ¦¬ ν›„**:
```
region,total_risk,high_risk,medium_risk,low_risk
μ„μΈνΉλ³„μ‹,16,10,4,2.0
```

### 3λ‹¨κ³„: λ…Έν›„μ£Όνƒ λΉ„μ¨ λ°μ΄ν„° μ „μ²λ¦¬
```python
# 1. ν—¤λ” μ •λ¦¬ (μ²« λ²μ§Έ, λ‘ λ²μ§Έ ν–‰μ„ μ»¬λΌλ…μΌλ΅ μ„¤μ •)
# 2. 2023.2 λ¶„κΈ° λ°μ΄ν„°λ§ μ„ νƒ (μµμ‹  λ°μ΄ν„°)
# 3. μ«μν• λ°μ΄ν„° λ³€ν™
# 4. μ»¬λΌλ… μ •λ¦¬: region, aged_housing_ratio, aged_housing_count, total_housing_count
```

**μ „μ²λ¦¬ μ „**:
```
ν–‰μ •κµ¬μ—­λ³„(μ‹κµ°κµ¬),2023,2023.1,2023.2
ν–‰μ •κµ¬μ—­λ³„(μ‹κµ°κµ¬),λ…Έν›„μ£ΌνƒλΉ„μ¨(AΓ·BΓ—100) (%),30λ…„ μ΄μƒ λ…Έν›„μ£Όνƒ(A) (νΈ),μ „μ²΄μ£Όνƒ(B) (νΈ)
μ„μΈνΉλ³„μ‹,26.0,820267,3155331
```

**μ „μ²λ¦¬ ν›„**:
```
region,aged_housing_ratio,aged_housing_count,total_housing_count
μ„μΈνΉλ³„μ‹,26.0,820267,3155331
```

### 4λ‹¨κ³„: ν•μλ„ λ°μ΄ν„° μ „μ²λ¦¬ (μ‹ κ·)
```python
# 1. ν•„μ”ν• μ»¬λΌλ§ μ„ νƒ
essential_cols = ['μ‹λ„', 'ν–‰μ •κµ¬μ—­λ…', 'μ΄μΈκµ¬(λ…)', 'μ΄λ©΄μ ', 
                 'ν•μλ„μ„¤μΉμ¨', 'κ³µκ³µν•μμ²λ¦¬κµ¬μ—­ μΈκµ¬λ³΄κΈ‰λ¥ ', 'κ³ λ„μ²λ¦¬μΈκµ¬ λ³΄κΈ‰λ¥ ']

# 2. κ²°μΈ΅κ°’ μ²λ¦¬ (μ„ΈμΆ…νΉλ³„μμΉμ‹ κµ¬κµ° μ»¬λΌ μ μ™Έ)
# 3. μ΄μƒκ°’ μ²λ¦¬ (0-100 λ²”μ„)
# 4. μΈκµ¬ λ°€λ„ κ³„μ‚° (λ…/kmΒ²)
# 5. μΈκµ¬ λ°€λ„ μ΄μƒκ°’ μ²λ¦¬ (50,000λ…/kmΒ² μ΄ν•)
```

### 5λ‹¨κ³„: μ§€μ—­λ… ν†µμΌ λ° λ°μ΄ν„° ν†µν•©
```python
# μ§€μ—­λ… λ§¤ν•‘ λ”•μ…”λ„λ¦¬ μ‚¬μ©
region_mapping = {
    'κ°•μ›νΉλ³„μμΉλ„': 'κ°•μ›λ„',
    'μ „λ¶νΉλ³„μμΉλ„': 'μ „λΌλ¶λ„',
    # ... κΈ°νƒ€ μ§€μ—­λ… ν†µμΌ
}

# λ‘ λ°μ΄ν„°μ…‹μ„ region κΈ°μ¤€μΌλ΅ ν†µν•© (inner join)
merged_data = pd.merge(disaster_data, housing_data, on='region', how='inner')
```

## π“ μµμΆ… λ°μ΄ν„° κµ¬μ΅°

### processed_data.csv (κΈ°μ΅΄)
| μ»¬λΌλ… | μ„¤λ… | λ‹¨μ„ | λ°μ΄ν„° νƒ€μ… |
|--------|------|------|-------------|
| `region` | μ§€μ—­λ… | - | λ¬Έμμ—΄ |
| `total_risk` | μ „μ²΄ μμ—°μ¬ν•΄ μ„ν—μ§€κµ¬ μ | κ° | μ •μ |
| `high_risk` | κ°€λ“±κΈ‰ μ„ν—μ§€κµ¬ μ (μΈλ…ν”Όν•΄ μ„ν—) | κ° | μ •μ |
| `medium_risk` | λ‚λ“±κΈ‰ μ„ν—μ§€κµ¬ μ (κ±΄μ¶•λ¬Ό ν”Όν•΄ μ„ν—) | κ° | μ‹¤μ |
| `low_risk` | λ‹¤λ“±κΈ‰ μ„ν—μ§€κµ¬ μ (κΈ°λ°μ‹μ„¤ ν”Όν•΄ μ„ν—) | κ° | μ‹¤μ |
| `aged_housing_ratio` | 30λ…„ μ΄μƒ λ…Έν›„μ£Όνƒ λΉ„μ¨ | % | μ‹¤μ |
| `aged_housing_count` | 30λ…„ μ΄μƒ λ…Έν›„μ£Όνƒ μ | νΈ | μ •μ |
| `total_housing_count` | μ „μ²΄ μ£Όνƒ μ | νΈ | μ •μ |

### sewer_infrastructure_processed.csv (μ‹ κ·)
| μ»¬λΌλ… | μ„¤λ… | λ‹¨μ„ | λ°μ΄ν„° νƒ€μ… |
|--------|------|------|-------------|
| `μ‹λ„` | μ‹λ„λ… | - | λ¬Έμμ—΄ |
| `ν–‰μ •κµ¬μ—­λ…` | ν–‰μ •κµ¬μ—­λ… | - | λ¬Έμμ—΄ |
| `μ΄μΈκµ¬(λ…)` | μ΄ μΈκµ¬μ | λ… | μ •μ |
| `μ΄λ©΄μ ` | μ΄ λ©΄μ  | kmΒ² | μ‹¤μ |
| `ν•μλ„μ„¤μΉμ¨` | ν•μλ„ μ„¤μΉμ¨ | % | μ‹¤μ |
| `κ³µκ³µν•μμ²λ¦¬κµ¬μ—­ μΈκµ¬λ³΄κΈ‰λ¥ ` | κ³µκ³µν•μμ²λ¦¬κµ¬μ—­ μΈκµ¬λ³΄κΈ‰λ¥  | % | μ‹¤μ |
| `κ³ λ„μ²λ¦¬μΈκµ¬ λ³΄κΈ‰λ¥ ` | κ³ λ„μ²λ¦¬μΈκµ¬ λ³΄κΈ‰λ¥  | % | μ‹¤μ |
| `μΈκµ¬λ°€λ„` | μΈκµ¬ λ°€λ„ | λ…/kmΒ² | μ‹¤μ |

### sewer_infrastructure_analysis.csv (μ‹ κ·)
μ„μ λ¨λ“  μ»¬λΌ + λ¶„μ„ κ²°κ³Ό μ»¬λΌλ“¤:
- `μΈκµ¬λ°€λ„_μ •κ·ν™”`: 0-100 μ¤μΌ€μΌλ΅ μ •κ·ν™”λ μΈκµ¬ λ°€λ„
- `ν•μλ„_μΈν”„λΌ_μ§€μ`: κ°€μ¤‘ ν‰κ· μΌλ΅ κ³„μ‚°λ μΆ…ν•© μΈν”„λΌ μ§€μ
- `μΈν”„λΌ_λ“±κΈ‰`: λ“±κΈ‰λ³„ λ¶„λ¥ (λ§¤μ° λ‚®μ/λ‚®μ/λ³΄ν†µ/λ†’μ)

## π” λ°μ΄ν„° ν’μ§ κ΄€λ¦¬

### κ²°μΈ΅μΉ μ²λ¦¬
- **λ€μ „κ΄‘μ—­μ‹ low_risk**: μ›λ³Έ λ°μ΄ν„°μ—μ„ `-`λ΅ ν‘μ‹λ κ°’μ„ 0μΌλ΅ μ²λ¦¬
- **μ„ΈμΆ…νΉλ³„μμΉμ‹ κµ¬κµ°**: NaN κ°’ ν—μ© (νΉμ ν–‰μ •κµ¬μ—­)
- **μ΄μ **: ν•΄λ‹Ή μ§€μ—­μ— λ‹¤λ“±κΈ‰ μ„ν—μ§€κµ¬κ°€ μ—†μμ„ μλ―Έ

### λ°μ΄ν„° κ²€μ¦
- **μ§€μ—­λ… μΌμΉμ„±**: 17κ° μ‹λ„ λ¨λ‘ λ§¤μΉ­ ν™•μΈ
- **μ«μν• λ³€ν™**: λ¨λ“  μμΉ λ°μ΄ν„°μ μ¬λ°”λ¥Έ λ³€ν™ ν™•μΈ
- **λ²”μ„ κ²€μ¦**: 
  - μ„ν—μ§€κµ¬ μ: 0 μ΄μƒμ μ •μ
  - λ…Έν›„μ£ΌνƒλΉ„μ¨: 0-100% λ²”μ„
  - μ£Όνƒ μ: 0 μ΄μƒμ μ •μ
  - ν•μλ„ κ΄€λ ¨ μ§€ν‘: 0-100% λ²”μ„
  - μΈκµ¬ λ°€λ„: 50,000λ…/kmΒ² μ΄ν•

## π“ ν™μ© λ°©μ•

### 1. μ£Όκ±°μ·¨μ•½μ§€μ κ³„μ‚° (κΈ°μ΅΄)
```python
# μ·¨μ•½μ§€μ = (μ „μ²΄μ„ν—λ„ Γ— 0.4) + (κ³ μ„ν—λ„ Γ— 0.3) + (λ…Έν›„μ£ΌνƒλΉ„μ¨ Γ— 0.3)
vulnerability_index = (
    total_risk * 0.4 + 
    high_risk * 0.3 + 
    aged_housing_ratio * 0.3
)
```

### 2. ν•μλ„ μΈν”„λΌ μ§€μ κ³„μ‚° (μ‹ κ·)
```python
# μΈν”„λΌ μ§€μ = (ν•μλ„μ„¤μΉμ¨ Γ— 0.3) + (κ³µκ³µν•μμ²λ¦¬κµ¬μ—­ Γ— 0.3) + 
#               (κ³ λ„μ²λ¦¬ Γ— 0.2) + (μΈκµ¬λ°€λ„_μ •κ·ν™” Γ— 0.2)
infrastructure_index = (
    sewer_coverage * 0.3 +
    public_sewer * 0.3 +
    advanced_treatment * 0.2 +
    population_density_normalized * 0.2
)
```

### 3. μ§€μ—­λ³„ λΉ„κµ λ¶„μ„
- μ„ν—λ„ λ“±κΈ‰λ³„ λ¶„ν¬ λ¶„μ„
- λ…Έν›„μ£Όνƒ ν„ν™© λ¶„μ„
- ν•μλ„ μΈν”„λΌ ν„ν™© λ¶„μ„
- μ§€μ—­κ°„ μ·¨μ•½μ„± λ° μΈν”„λΌ κ²©μ°¨ λΉ„κµ

### 4. μ‹κ°ν™”
- μ§€λ„ κΈ°λ° μ‹κ°ν™”
- μ°¨νΈ λ° κ·Έλν”„ μƒμ„±
- μΈν„°λ™ν‹°λΈ λ€μ‹λ³΄λ“

## π¨ μ£Όμμ‚¬ν•­

1. **λ°μ΄ν„° μ¶μ²**: κ³µμ‹ ν†µκ³„ λ°μ΄ν„° μ‚¬μ©
2. **μ‹μ **: 2023λ…„ κΈ°μ¤€ λ°μ΄ν„°
3. **μ§€μ—­ λ²”μ„**: μ‹λ„ λ‹¨μ„ (17κ° μ§€μ—­, μ„ΈμΆ…νΉλ³„μμΉμ‹ ν¬ν•¨)
4. **μ—…λ°μ΄νΈ**: μ›λ³Έ λ°μ΄ν„° λ³€κ²½ μ‹ μ¬μ „μ²λ¦¬ ν•„μ”
5. **μ„ΈμΆ…νΉλ³„μμΉμ‹**: κµ¬κµ° μ»¬λΌμ΄ μ—†λ” νΉμ ν–‰μ •κµ¬μ—­μΌλ΅ μ²λ¦¬

## π”„ λ°μ΄ν„° μ—…λ°μ΄νΈ μ΄λ ¥

| λ‚ μ§ | μ—…λ°μ΄νΈ λ‚΄μ© | νμΌ |
|------|---------------|------|
| 2025-07-29 | μ΄κΈ° μ „μ²λ¦¬ λ°μ΄ν„° μƒμ„± | processed_data.csv |
| 2025-07-30 | ν•μλ„ μΈν”„λΌ λ°μ΄ν„° μ¶”κ°€ | sewer_infrastructure_processed.csv |
| 2025-07-30 | ν•μλ„ μΈν”„λΌ λ¶„μ„ κ²°κ³Ό μ¶”κ°€ | sewer_infrastructure_analysis.csv |

---
**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2025-07-30  
**μ „μ²λ¦¬ λ²„μ „**: 2.0 (ν•μλ„ μΈν”„λΌ λ°μ΄ν„° μ¶”κ°€) 