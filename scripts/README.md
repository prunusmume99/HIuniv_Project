# π”§ Python Scripts ν΄λ”

## π“‹ ν΄λ” κ°μ”
μ΄ ν΄λ”λ” λ°μ΄ν„° μ „μ²λ¦¬ λ° λ…ΈνΈλ¶ μƒμ„±μ„ μ„ν• Python μ¤ν¬λ¦½νΈλ“¤μ„ ν¬ν•¨ν•©λ‹λ‹¤.

## π“ νμΌ λ©λ΅

### 1. `data_preprocessing.py` (κΈ°μ΅΄)
- **νμΌ ν¬κΈ°**: 7.1KB (194 lines)
- **μƒμ„±μΌ**: 2025-07-29
- **μ„¤λ…**: μ›λ³Έ λ°μ΄ν„°λ¥Ό μ „μ²λ¦¬ν•μ—¬ λ¶„μ„μ© λ°μ΄ν„°μ…‹μ„ μƒμ„±ν•λ” μ¤ν¬λ¦½νΈ

#### π― μ£Όμ” κΈ°λ¥
1. **λ°μ΄ν„° λ΅λ”©**
   - `data/raw/Natural_Disaster_Risk.csv` λ΅λ”©
   - `data/raw/aged_housing_ratio.csv` λ΅λ”©
   - νμΌ μ΅΄μ¬ μ—¬λ¶€ λ° μ¤λ¥ μ²λ¦¬

2. **μμ—°μ¬ν•΄ μ„ν—λ„ λ°μ΄ν„° μ „μ²λ¦¬**
   - ν—¤λ” μ •λ¦¬ (μ²« λ²μ§Έ, λ‘ λ²μ§Έ ν–‰μ„ μ»¬λΌλ…μΌλ΅ μ„¤μ •)
   - 2023λ…„ λ°μ΄ν„°λ§ μ„ νƒ
   - μ«μν• λ°μ΄ν„° λ³€ν™
   - μ»¬λΌλ… μ •λ¦¬: `region`, `total_risk`, `high_risk`, `medium_risk`, `low_risk`

3. **λ…Έν›„μ£Όνƒ λΉ„μ¨ λ°μ΄ν„° μ „μ²λ¦¬**
   - ν—¤λ” μ •λ¦¬ (μ²« λ²μ§Έ, λ‘ λ²μ§Έ ν–‰μ„ μ»¬λΌλ…μΌλ΅ μ„¤μ •)
   - 2023.2 λ¶„κΈ° λ°μ΄ν„°λ§ μ„ νƒ (μµμ‹  λ°μ΄ν„°)
   - μ«μν• λ°μ΄ν„° λ³€ν™
   - μ»¬λΌλ… μ •λ¦¬: `region`, `aged_housing_ratio`, `aged_housing_count`, `total_housing_count`

4. **λ°μ΄ν„° ν†µν•©**
   - μ§€μ—­λ… λ§¤ν•‘ λ”•μ…”λ„λ¦¬ μ‚¬μ©
   - λ‘ λ°μ΄ν„°μ…‹μ„ `region` κΈ°μ¤€μΌλ΅ ν†µν•© (inner join)
   - μ§€μ—­λ… ν†µμΌ (μ: 'κ°•μ›νΉλ³„μμΉλ„' β†’ 'κ°•μ›λ„')

5. **κ²°κ³Ό μ €μ¥**
   - `data/processed/processed_data.csv`λ΅ μ €μ¥
   - UTF-8 with BOM μΈμ½”λ”© μ‚¬μ©

#### π› οΈ μ£Όμ” ν•¨μ
```python
def load_data()                    # μ›λ³Έ λ°μ΄ν„° λ΅λ”©
def preprocess_disaster_data(df)   # μμ—°μ¬ν•΄ μ„ν—λ„ μ „μ²λ¦¬
def preprocess_housing_data(df)    # λ…Έν›„μ£Όνƒ λΉ„μ¨ μ „μ²λ¦¬
def merge_data(disaster_data, housing_data)  # λ°μ΄ν„° ν†µν•©
def save_processed_data(data, filename)      # κ²°κ³Ό μ €μ¥
def main()                         # λ©”μΈ μ‹¤ν–‰ ν•¨μ
```

#### π― μ‹¤ν–‰ λ°©λ²•
```bash
# ν”„λ΅μ νΈ λ£¨νΈμ—μ„ μ‹¤ν–‰
python scripts/data_preprocessing.py

# λλ” scripts ν΄λ”μ—μ„ μ‹¤ν–‰
cd scripts
python data_preprocessing.py
```

#### π“ μ¶λ ¥ κ²°κ³Ό
- **μ„±κ³µ μ‹**: μ „μ²λ¦¬λ λ°μ΄ν„° μ •λ³΄ λ° μ”μ•½ ν†µκ³„ μ¶λ ¥
- **μ‹¤ν¨ μ‹**: μ¤λ¥ λ©”μ‹μ§€ μ¶λ ¥
- **μƒμ„± νμΌ**: `data/processed/processed_data.csv`

### 2. `preprocess_sewer_data.py` (μ‹ κ·)
- **νμΌ ν¬κΈ°**: 3.7KB (94 lines)
- **μƒμ„±μΌ**: 2025-01-27
- **μ„¤λ…**: ν•μλ„ λ³΄κΈ‰λ¥  λ°μ΄ν„°λ¥Ό μ „μ²λ¦¬ν•μ—¬ λ¶„μ„μ© λ°μ΄ν„°μ…‹μ„ μƒμ„±ν•λ” μ¤ν¬λ¦½νΈ

#### π― μ£Όμ” κΈ°λ¥
1. **λ°μ΄ν„° λ΅λ”©**
   - `data/raw/Sewer_Coverage_Rate.csv` λ΅λ”©
   - νμΌ μ΅΄μ¬ μ—¬λ¶€ λ° μ¤λ¥ μ²λ¦¬

2. **μ»¬λΌ μ„ νƒ λ° μ •λ¦¬**
   - ν•„μ”ν• μ»¬λΌλ§ μ„ νƒ: μ‹λ„, ν–‰μ •κµ¬μ—­λ…, μ΄μΈκµ¬, μ΄λ©΄μ , ν•μλ„ κ΄€λ ¨ μ§€ν‘
   - μ„ΈμΆ…νΉλ³„μμΉμ‹ κµ¬κµ° μ»¬λΌ κ²°μΈ΅κ°’ ν—μ©

3. **κ²°μΈ΅κ°’ λ° μ΄μƒκ°’ μ²λ¦¬**
   - κ²°μΈ΅κ°’ μ κ±° (κµ¬κµ° μ»¬λΌ μ μ™Έ)
   - ν•μλ„ κ΄€λ ¨ μ§€ν‘ 0-100% λ²”μ„ κ²€μ¦
   - μΈκµ¬ λ°€λ„ μ΄μƒκ°’ μ²λ¦¬ (50,000λ…/kmΒ² μ΄ν•)

4. **μΈκµ¬ λ°€λ„ κ³„μ‚°**
   - μ΄μΈκµ¬ / μ΄λ©΄μ μΌλ΅ μΈκµ¬ λ°€λ„ κ³„μ‚°
   - λ‹¨μ„: λ…/kmΒ²

5. **κ²°κ³Ό μ €μ¥**
   - `data/processed/sewer_infrastructure_processed.csv`λ΅ μ €μ¥
   - UTF-8 with BOM μΈμ½”λ”© μ‚¬μ©

#### π› οΈ μ£Όμ” ν•¨μ
```python
def preprocess_sewer_data()        # λ©”μΈ μ „μ²λ¦¬ ν•¨μ
def main()                         # λ©”μΈ μ‹¤ν–‰ ν•¨μ
```

#### π― μ‹¤ν–‰ λ°©λ²•
```bash
# ν”„λ΅μ νΈ λ£¨νΈμ—μ„ μ‹¤ν–‰
python scripts/preprocess_sewer_data.py

# λλ” scripts ν΄λ”μ—μ„ μ‹¤ν–‰
cd scripts
python preprocess_sewer_data.py
```

#### π“ μ¶λ ¥ κ²°κ³Ό
- **μ„±κ³µ μ‹**: μ „μ²λ¦¬λ λ°μ΄ν„° μ •λ³΄ λ° μ‹λ„λ³„ λ°μ΄ν„° κ°μ μ¶λ ¥
- **μ‹¤ν¨ μ‹**: μ¤λ¥ λ©”μ‹μ§€ μ¶λ ¥
- **μƒμ„± νμΌ**: `data/processed/sewer_infrastructure_processed.csv`

### 3. `sewer_infrastructure_index.py` (μ‹ κ·)
- **νμΌ ν¬κΈ°**: 10KB (260 lines)
- **μƒμ„±μΌ**: 2025-01-27
- **μ„¤λ…**: ν•μλ„ μΈν”„λΌ μ§€μλ¥Ό κ³„μ‚°ν•κ³  λ¶„μ„ν•λ” ν΄λμ¤ κΈ°λ° μ¤ν¬λ¦½νΈ

#### π― μ£Όμ” κΈ°λ¥
1. **λ°μ΄ν„° λ΅λ”© λ° νƒμƒ‰**
   - μ „μ²λ¦¬λ ν•μλ„ λ°μ΄ν„° λ΅λ”©
   - λ°μ΄ν„° κΈ°λ³Έ μ •λ³΄ λ° κΈ°μ ν†µκ³„ ν™•μΈ

2. **λ°μ΄ν„° μ •μ **
   - κ²°μΈ΅κ°’ μ²λ¦¬
   - μ΄μƒκ°’ μ κ±°
   - λ°μ΄ν„° νƒ€μ… λ³€ν™

3. **μΈν”„λΌ μ§€μ κ³„μ‚°**
   - κ°€μ¤‘μΉ κΈ°λ° μΆ…ν•© μ§€μ κ³„μ‚°
   - MinMaxScalerλ¥Ό μ‚¬μ©ν• μ •κ·ν™”
   - λ“±κΈ‰λ³„ λ¶„λ¥

4. **μ§€μ—­λ³„ λ¶„μ„**
   - μ‹λ„λ³„ ν†µκ³„ κ³„μ‚°
   - μƒμ„/ν•μ„ μ§€μ—­ λ¶„μ„
   - λ“±κΈ‰λ³„ λ¶„ν¬ λ¶„μ„

5. **μ‹κ°ν™”**
   - νμ¤ν† κ·Έλ¨, νμ΄μ°¨νΈ, λ°”μ°¨νΈ λ“±
   - μƒκ΄€κ΄€κ³„ ννΈλ§µ
   - μ‚°μ λ„

6. **κ²°κ³Ό μ €μ¥**
   - λ¶„μ„ κ²°κ³Ό CSV νμΌ μ €μ¥
   - μ‹κ°ν™” μ΄λ―Έμ§€ μ €μ¥

#### π› οΈ μ£Όμ” ν΄λμ¤ λ° ν•¨μ
```python
class SewerInfrastructureIndex:
    def __init__(self, data_path)           # μ΄κΈ°ν™”
    def load_data(self)                     # λ°μ΄ν„° λ΅λ”©
    def explore_data(self)                  # λ°μ΄ν„° νƒμƒ‰
    def clean_data(self)                    # λ°μ΄ν„° μ •μ 
    def calculate_infrastructure_index(self, weights=None)  # μ§€μ κ³„μ‚°
    def analyze_by_region(self)             # μ§€μ—­λ³„ λ¶„μ„
    def create_visualizations(self, save_path)  # μ‹κ°ν™”
    def save_results(self, output_path)     # κ²°κ³Ό μ €μ¥
```

#### π― μ‹¤ν–‰ λ°©λ²•
```bash
# ν”„λ΅μ νΈ λ£¨νΈμ—μ„ μ‹¤ν–‰
python scripts/sewer_infrastructure_index.py

# λλ” scripts ν΄λ”μ—μ„ μ‹¤ν–‰
cd scripts
python sewer_infrastructure_index.py
```

### 4. `create_social_vulnerability_notebook.py` (μ‹ κ·)
- **νμΌ ν¬κΈ°**: 18KB (386 lines)
- **μƒμ„±μΌ**: 2025-01-27
- **μ„¤λ…**: μ‚¬νμ·¨μ•½μ§€μ λ¶„μ„μ„ μ„ν• Jupyter Notebookμ„ μƒμ„±ν•λ” μ¤ν¬λ¦½νΈ

#### π― μ£Όμ” κΈ°λ¥
1. **λ…ΈνΈλ¶ κµ¬μ΅° μƒμ„±**
   - `json` ν•μ‹μΌλ΅ λ…ΈνΈλ¶ κµ¬μ΅° μƒμ„±
   - λ§ν¬λ‹¤μ΄ μ…€κ³Ό μ½”λ“ μ…€ μ΅°ν•©
   - λ©”νƒ€λ°μ΄ν„° μ„¤μ •

2. **λ¶„μ„ μ½”λ“ ν¬ν•¨**
   - λ°μ΄ν„° λ΅λ“ λ° μ „μ²λ¦¬
   - μ‚¬νμ·¨μ•½μ§€μ κ³„μ‚°
   - λ‹¤μ–‘ν• μ‹κ°ν™”
   - μΈν„°λ™ν‹°λΈ μ§€λ„ μƒμ„±
   - κ²°κ³Ό μ”μ•½ λ° μ €μ¥

3. **μ λ€ κ²½λ΅ μ‚¬μ©**
   - ν¬λ΅μ¤ ν”λ«νΌ νΈν™μ„±μ„ μ„ν• μ λ€ κ²½λ΅ μ„¤μ •
   - νμΌ μ΅΄μ¬ μ—¬λ¶€ ν™•μΈ λ΅μ§ ν¬ν•¨

#### π› οΈ μ£Όμ” ν•¨μ
```python
def create_social_vulnerability_notebook()  # λ…ΈνΈλ¶ μƒμ„± λ©”μΈ ν•¨μ
def main()                                  # λ©”μΈ μ‹¤ν–‰ ν•¨μ
```

#### π― μ‹¤ν–‰ λ°©λ²•
```bash
# ν”„λ΅μ νΈ λ£¨νΈμ—μ„ μ‹¤ν–‰
python scripts/create_social_vulnerability_notebook.py

# λλ” scripts ν΄λ”μ—μ„ μ‹¤ν–‰
cd scripts
python create_social_vulnerability_notebook.py
```

#### π“ μ¶λ ¥ κ²°κ³Ό
- **μƒμ„± νμΌ**: `notebooks/01_social_vulnerability_analysis.ipynb`
- **λ…ΈνΈλ¶ λ‚΄μ©**: μ™„μ „ν• λ¶„μ„ μ›ν¬ν”λ΅μ° ν¬ν•¨

### 5. `create_sewer_infrastructure_notebook.py` (μ‹ κ·)
- **νμΌ ν¬κΈ°**: 18KB (375 lines)
- **μƒμ„±μΌ**: 2025-01-27
- **μ„¤λ…**: ν•μλ„ μΈν”„λΌ λ¶„μ„μ„ μ„ν• Jupyter Notebookμ„ μƒμ„±ν•λ” μ¤ν¬λ¦½νΈ

#### π― μ£Όμ” κΈ°λ¥
1. **λ…ΈνΈλ¶ κµ¬μ΅° μƒμ„±**
   - `json` ν•μ‹μΌλ΅ λ…ΈνΈλ¶ κµ¬μ΅° μƒμ„±
   - λ§ν¬λ‹¤μ΄ μ…€κ³Ό μ½”λ“ μ…€ μ΅°ν•©
   - λ©”νƒ€λ°μ΄ν„° μ„¤μ •

2. **λ¶„μ„ μ½”λ“ ν¬ν•¨**
   - μ „μ²λ¦¬λ λ°μ΄ν„° λ΅λ“
   - ν•μλ„ μΈν”„λΌ μ§€μ κ³„μ‚°
   - λ‹¤μ–‘ν• μ‹κ°ν™”
   - μƒμ„/ν•μ„ μ§€μ—­ λ¶„μ„
   - μ‹λ„λ³„ λ¶„μ„
   - κ²°κ³Ό μ €μ¥

3. **μ λ€ κ²½λ΅ μ‚¬μ©**
   - ν¬λ΅μ¤ ν”λ«νΌ νΈν™μ„±μ„ μ„ν• μ λ€ κ²½λ΅ μ„¤μ •
   - νμΌ μ΅΄μ¬ μ—¬λ¶€ ν™•μΈ λ΅μ§ ν¬ν•¨
   - μ„ΈμΆ…νΉλ³„μμΉμ‹ λ°μ΄ν„° ν¬ν•¨ μ²λ¦¬

#### π› οΈ μ£Όμ” ν•¨μ
```python
def create_sewer_infrastructure_notebook()  # λ…ΈνΈλ¶ μƒμ„± λ©”μΈ ν•¨μ
def main()                                  # λ©”μΈ μ‹¤ν–‰ ν•¨μ
```

#### π― μ‹¤ν–‰ λ°©λ²•
```bash
# ν”„λ΅μ νΈ λ£¨νΈμ—μ„ μ‹¤ν–‰
python scripts/create_sewer_infrastructure_notebook.py

# λλ” scripts ν΄λ”μ—μ„ μ‹¤ν–‰
cd scripts
python create_sewer_infrastructure_notebook.py
```

#### π“ μ¶λ ¥ κ²°κ³Ό
- **μƒμ„± νμΌ**: `notebooks/02_sewer_infrastructure_analysis.ipynb`
- **λ…ΈνΈλ¶ λ‚΄μ©**: μ™„μ „ν• ν•μλ„ μΈν”„λΌ λ¶„μ„ μ›ν¬ν”λ΅μ° ν¬ν•¨

## π”§ κΈ°μ μ  μ„Έλ¶€μ‚¬ν•­

### μ‚¬μ©λ λΌμ΄λΈλ¬λ¦¬
```python
# κ³µν†µ λΌμ΄λΈλ¬λ¦¬
import pandas as pd
import numpy as np
import os
import sys
from pathlib import Path

# μ „μ²λ¦¬ κ΄€λ ¨
from sklearn.preprocessing import MinMaxScaler

# λ…ΈνΈλ¶ μƒμ„± κ΄€λ ¨
import json

# μ‹κ°ν™” κ΄€λ ¨
import matplotlib.pyplot as plt
import seaborn as sns
```

### νμΌ κ²½λ΅ κ΄€λ¦¬
- **μ λ€ κ²½λ΅ μ‚¬μ©**: ν¬λ΅μ¤ ν”λ«νΌ νΈν™μ„±μ„ μ„ν•΄ μ λ€ κ²½λ΅ μ‚¬μ©
- **Path κ°μ²΄**: ν¬λ΅μ¤ ν”λ«νΌ νΈν™μ„±
- **μλ™ λ””λ ‰ν† λ¦¬ μƒμ„±**: `os.makedirs(path, exist_ok=True)`

### μ¤λ¥ μ²λ¦¬
- **try-except λΈ”λ΅**: κ° λ‹¨κ³„λ³„ μ¤λ¥ μ²λ¦¬
- **μƒμ„Έν• μ¤λ¥ λ©”μ‹μ§€**: λ””λ²„κΉ… μ©μ΄μ„±
- **λ‹¨κ³„λ³„ κ²€μ¦**: λ°μ΄ν„° ν’μ§ λ³΄μ¥
- **νμΌ μ΅΄μ¬ μ—¬λ¶€ ν™•μΈ**: μ‹¤ν–‰ μ „ νμΌ κ²½λ΅ κ²€μ¦

## π¨ μ£Όμμ‚¬ν•­

### κ³µν†µ μ‚¬ν•­
1. **μ‹¤ν–‰ μ„μΉ**: ν”„λ΅μ νΈ λ£¨νΈμ—μ„ μ‹¤ν–‰ κ¶μ¥
2. **μ›λ³Έ λ°μ΄ν„°**: `data/raw/` ν΄λ”μ— μ›λ³Έ νμΌ ν•„μ”
3. **κ²°κ³Ό λ®μ–΄μ“°κΈ°**: κΈ°μ΅΄ νμΌ λ®μ–΄μ”€
4. **μΈμ½”λ”©**: UTF-8 with BOM μ‚¬μ© (ν•κΈ€ νΈν™μ„±)

### ν•μλ„ μΈν”„λΌ κ΄€λ ¨
1. **μ„ΈμΆ…νΉλ³„μμΉμ‹**: κµ¬κµ° μ»¬λΌμ΄ μ—†λ” νΉμ ν–‰μ •κµ¬μ—­μΌλ΅ μ²λ¦¬
2. **μ΄μƒκ°’ μ²λ¦¬**: μΈκµ¬ λ°€λ„ 50,000λ…/kmΒ² μ΄ν•λ΅ μ ν•
3. **κ°€μ¤‘μΉ μ„¤μ •**: ν•μλ„μ„¤μΉμ¨(30%), κ³µκ³µν•μμ²λ¦¬κµ¬μ—­(30%), κ³ λ„μ²λ¦¬(20%), μΈκµ¬λ°€λ„(20%)

### λ…ΈνΈλ¶ μƒμ„± κ΄€λ ¨
1. **μμ΅΄μ„±**: `json` λΌμ΄λΈλ¬λ¦¬ μ‚¬μ©
2. **μ λ€ κ²½λ΅**: Windows κ²½λ΅ ν•μ‹ μ‚¬μ©
3. **ν•κΈ€ ν°νΈ**: `DejaVu Sans` ν°νΈ μ„¤μ • ν¬ν•¨

## π“ λ¬Έμ  ν•΄κ²°

### μΌλ°μ μΈ μ¤λ¥
1. **FileNotFoundError**: μ›λ³Έ λ°μ΄ν„° νμΌ κ²½λ΅ ν™•μΈ
2. **ImportError**: ν•„μ”ν• λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ ν™•μΈ
3. **PermissionError**: νμΌ μ“°κΈ° κ¶ν• ν™•μΈ
4. **κ²½λ΅ λ¬Έμ **: μ λ€ κ²½λ΅ μ„¤μ • ν™•μΈ

### ν•΄κ²° λ°©λ²•
```bash
# λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ
pip install pandas numpy scikit-learn matplotlib seaborn

# κ¶ν• λ¬Έμ  ν•΄κ²° (Linux/macOS)
chmod +x scripts/*.py

# κ²½λ΅ λ¬Έμ  ν•΄κ²°
python -c "import os; print('ν„μ¬ μ‘μ—… λ””λ ‰ν† λ¦¬:', os.getcwd())"
```

## π”„ μ›ν¬ν”λ΅μ°

### μ „μ²΄ λ¶„μ„ κ³Όμ •
```bash
# 1. κΈ°μ΅΄ λ°μ΄ν„° μ „μ²λ¦¬
python scripts/data_preprocessing.py

# 2. ν•μλ„ λ°μ΄ν„° μ „μ²λ¦¬
python scripts/preprocess_sewer_data.py

# 3. λ…ΈνΈλ¶ μƒμ„±
python scripts/create_social_vulnerability_notebook.py
python scripts/create_sewer_infrastructure_notebook.py

# 4. λ¶„μ„ μ‹¤ν–‰
jupyter notebook notebooks/01_social_vulnerability_analysis.ipynb
jupyter notebook notebooks/02_sewer_infrastructure_analysis.ipynb
```

### κ°λ³„ μ‹¤ν–‰
```bash
# μ „μ²λ¦¬λ§ μ‹¤ν–‰
python scripts/data_preprocessing.py
python scripts/preprocess_sewer_data.py

# λ…ΈνΈλ¶ μƒμ„±λ§ μ‹¤ν–‰
python scripts/create_social_vulnerability_notebook.py
python scripts/create_sewer_infrastructure_notebook.py

# μΈν”„λΌ μ§€μ λ¶„μ„λ§ μ‹¤ν–‰
python scripts/sewer_infrastructure_index.py
```

## π“ λ¶„μ„ μ§€ν‘

### μ‚¬νμ·¨μ•½μ§€μ (κΈ°μ΅΄)
- μ „μ²΄ μ„ν—λ„ (40%)
- κ³ μ„ν—λ„ (30%)
- λ…Έν›„μ£ΌνƒλΉ„μ¨ (30%)

### ν•μλ„ μΈν”„λΌ μ§€μ (μ‹ κ·)
- ν•μλ„μ„¤μΉμ¨ (30%)
- κ³µκ³µν•μμ²λ¦¬κµ¬μ—­ μΈκµ¬λ³΄κΈ‰λ¥  (30%)
- κ³ λ„μ²λ¦¬μΈκµ¬ λ³΄κΈ‰λ¥  (20%)
- μΈκµ¬λ°€λ„ μ •κ·ν™” (20%)

---
**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2025-07-30 
**μ¤ν¬λ¦½νΈ λ²„μ „**: 2.0 (ν•μλ„ μΈν”„λΌ λ¶„μ„ μ¶”κ°€) 